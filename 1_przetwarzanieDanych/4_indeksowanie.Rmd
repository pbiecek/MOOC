---
title: "Indeksowanie ramek danych"
author: "pogRomcy danych"
date: "sezon 2 / odcinek 4 <br><br><br><br>Naciśnij `A` by zamienić slajdy na ciągły tekst. <br> Naciśnij `T` by wyświetlić spis treści."
output:
  slidy_presentation:
    includes:
      in_header: ../tracking.html
    highlight: default
    css: ../style.css
    font_adjustment: 0
    footer: "pogRomcy danych / przetwarzanie / indeksowanie"
---

# O czym jest ten odcinek

Dane z którymi będziemy pracować mają najczęściej format tabeli. 
Jedną z podstawowych operacji na tabelach jest wybieranie podzbioru wierszy lub kolumn.

W tym odcinku dowiemy się

- Jak wybierać wiersze z ramki danych
- Jak wybierać kolumny z ramki danych
- Jak wybierać wiersze i kolumny
- Jak indeksować wiersze i kolumny używając nazw lub wartości logicznych

---

# Ptaki vs koty

Do pracy nad wybieraniem wierszy i kolumn wykorzystamy niewielki zbiór danych o kotach i ptakach.
Siedem kolumn i trzynaście wierszy to dobry zbiór do ćwiczeń.

```{r, message=FALSE, warning=FALSE}
library(SmarterPoland)
koty_ptaki
```

---

# Wybieranie wierszy z ramki danych

Aby odwoływać się do wierszy lub kolumn ramki danych można wyokrzystać operator `[,]`. 
Przed przecinkiem należy wpisać indeksy wierszy.

Przykładowo, odwołanie się do trzeciego wiersza

```{r, message=FALSE, warning=FALSE}
koty_ptaki[3,]
```

Aby odwołać się do kilku koljnych wierszy można wykorzystać sekwencję zbudowaną z operatorem `:`.
Wiersze od 8 do 10 można wyłuskać następująco

```{r, message=FALSE, warning=FALSE}
koty_ptaki[8:10,]
```

Funkcja `c()` skleja wartości i sekwencje  wwektor, który można następnie wykorzystać w indeksowaniu wierszy.
Poniższa instrukcja wyłuskuje wiersze 3, 8, 9 i 10.

```{r, message=FALSE, warning=FALSE}
koty_ptaki[c(3,8:10),]
```

Funkcjami `head()` i `tail()` wyłuskuje pierwsze lub ostatnie 6 wierszy ze zbioru danych.

```{r, message=FALSE, warning=FALSE}
head(koty_ptaki)
tail(koty_ptaki)
```

---

# Wybieranie kolumn z ramki danych



```{r, message=FALSE, warning=FALSE}
koty_ptaki[,2]
```

```{r, message=FALSE, warning=FALSE}
koty_ptaki$waga
```

```{r, message=FALSE, warning=FALSE}
koty_ptaki[,2, drop=FALSE]
```

---

```{r, message=FALSE, warning=FALSE}
koty_ptaki[,3:4]
koty_ptaki[,c(2,3:4)]
```

---

```{r, message=FALSE, warning=FALSE}
koty_ptaki[c(3,8:10),c(2,3:4)]
```

---

```{r, message=FALSE, warning=FALSE}
rownames(koty_ptaki) <- koty_ptaki[,1]
head(koty_ptaki, 3)
```

---

```{r, message=FALSE, warning=FALSE}
koty_ptaki[c("Lew", "Leopard", "Jerzyk", "Strus"),
           c("waga", "dlugosc", "predkosc")]
```

---

```{r, message=FALSE, warning=FALSE}
koty_ptaki$predkosc > 100
grepl(colnames(koty_ptaki), pattern = "a")

koty_ptaki[koty_ptaki$predkosc > 100,
           grepl(colnames(koty_ptaki), pattern = "a")]
```

---

# Zadania

